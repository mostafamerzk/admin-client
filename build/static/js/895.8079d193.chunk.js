"use strict";(self.webpackChunkadmin_dashboard=self.webpackChunkadmin_dashboard||[]).push([[895],{5901:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);var r=a(579);const s=e=>{let{label:t,name:a,type:s="text",value:i,onChange:l,error:n,required:o=!1,placeholder:c="",options:d=[],className:m="",disabled:u=!1,loading:g=!1}=e;const h="mt-1 block w-full rounded-md shadow-sm sm:text-sm "+(n?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-primary focus:ring-primary");return(0,r.jsxs)("div",{className:`${m}`,children:[(0,r.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700",children:[t," ",o&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(()=>{switch(s){case"textarea":return(0,r.jsx)("textarea",{id:a,name:a,value:i,onChange:l,className:h,placeholder:c,disabled:u});case"select":return(0,r.jsx)("select",{id:a,name:a,value:i,onChange:l,className:h,disabled:u||g,children:g?(0,r.jsx)("option",{value:"",children:"Loading..."}):d.map((e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value)))});case"checkbox":return(0,r.jsx)("input",{type:"checkbox",id:a,name:a,checked:i,onChange:l,className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",disabled:u});default:return(0,r.jsx)("input",{type:s,id:a,name:a,value:i,onChange:l,className:h,placeholder:c,disabled:u})}})(),n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n})]})}},6773:(e,t,a)=>{a.d(t,{l:()=>g,tU:()=>h});const r=e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e),s=e=>/^\+?[0-9]{10,15}$/.test(e),i=e=>{try{return new URL(e),!0}catch(t){return!1}},l=e=>null!==e&&void 0!==e&&("string"===typeof e?e.trim().length>0:!Array.isArray(e)||e.length>0),n=e=>/^[0-9]+$/.test(e),o=e=>/^[0-9]+(\.[0-9]+)?$/.test(e),c=e=>/^[a-zA-Z0-9]+$/.test(e),d=e=>{const t=new Date(e);return!isNaN(t.getTime())},m=(e,t)=>e===t,u=e=>!(e.length<8)&&(!!/[A-Z]/.test(e)&&(!!/[a-z]/.test(e)&&(!!/[0-9]/.test(e)&&!!/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e)))),g=(e,t)=>{const a={};return Object.entries(t).forEach((t=>{let[r,s]=t;const i=r,l=((e,t,a,r)=>{const s=Array.isArray(a)?a:[a];for(const i of s)if(!i.validator(t,r))return i.message;return""})(0,e[i],s,e);l&&(a[i]=l)})),a},h={required:function(){return{validator:l,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field is required"}},email:function(){return{validator:r,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid email address"}},phone:function(){return{validator:s,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid phone number"}},url:function(){return{validator:i,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid URL"}},minLength:(e,t)=>({validator:t=>((e,t)=>e.length>=t)(t,e),message:t||`Must be at least ${e} characters`}),maxLength:(e,t)=>({validator:t=>((e,t)=>e.length<=t)(t,e),message:t||`Must be no more than ${e} characters`}),numeric:function(){return{validator:n,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a numeric value"}},decimal:function(){return{validator:o,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid decimal number"}},alphanumeric:function(){return{validator:c,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please use only letters and numbers"}},date:function(){return{validator:d,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid date"}},password:function(){return{validator:u,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Password must be at least 8 characters and include uppercase, lowercase, number, and special character"}},passwordMatch:function(){return{validator:(e,t)=>m(e,null===t||void 0===t?void 0:t.confirmPassword),message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Passwords do not match"}},confirmPasswordMatch:function(){return{validator:(e,t)=>m(e,null===t||void 0===t?void 0:t.password),message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Passwords do not match"}},sku:function(){return{validator:e=>/^[A-Z0-9-_]{3,20}$/i.test(e),message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid SKU"}},price:function(){return{validator:e=>e>0&&e<=999999,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid price"}},stock:function(){return{validator:e=>Number.isInteger(e)&&e>=0,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid stock quantity"}},minimumStock:function(){return{validator:e=>Number.isInteger(e)&&e>=0,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please enter a valid minimum stock level"}},stockConsistency:function(){return{validator:(e,t)=>!t||!t.stock||e<=t.stock,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Minimum stock cannot be greater than current stock"}},arrayNotEmpty:function(){return{validator:e=>Array.isArray(e)&&e.length>0,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"At least one item is required"}},imageArray:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return{validator:t=>!!Array.isArray(t)&&t.length<=e,message:(arguments.length>1?arguments[1]:void 0)||`Maximum ${e} images allowed`}}}},8662:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(5043);function s(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const i=r.forwardRef(s)},8714:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var r=a(5043),s=a(3216),i=a(2806),l=a(7907),n=a(3927),o=a(5901);function c(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const d=r.forwardRef(c);function m(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const u=r.forwardRef(m);var g=a(7591),h=a(1602),p=a(8662),v=a(4703),x=a(579);const b=e=>{let{label:t,name:a,value:s=[],onChange:i,error:l,required:n=!1,disabled:o=!1,maxSize:c=5242880,allowedTypes:m=["image/jpeg","image/png","image/gif","image/webp"],maxFiles:b=10,className:y=""}=e;const[f,j]=(0,r.useState)(!1),k=(0,r.useRef)(null),N=(0,r.useCallback)((e=>{const t=[],a=s.length;for(let r=0;r<e.length&&a+t.length<b;r++){const a=e[r];if(!a)continue;const s=(0,v.nJ)(a,{maxSize:c,allowedTypes:m});s.valid?t.push(a):console.error("File validation failed:",s.error)}t.length>0&&i([...s,...t])}),[s,i,c,m,b]),w=(e,t)=>{if(t<0||t>=s.length)return;const a=[...s],[r]=a.splice(e,1);r&&(a.splice(t,0,r),i(a))},A=e=>"string"===typeof e?e:URL.createObjectURL(e);return(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t," ",n&&(0,x.jsx)("span",{className:"text-red-500",children:"*"}),(0,x.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",s.length,"/",b," images)"]})]}),s.length>0&&(0,x.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:s.map(((e,t)=>(0,x.jsxs)("div",{className:"relative group",children:[(0,x.jsx)("img",{src:A(e),alt:`Preview ${t+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),(0,x.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center space-x-1",children:[t>0&&(0,x.jsx)("button",{type:"button",onClick:()=>w(t,t-1),className:"p-1 bg-white rounded-full hover:bg-gray-100 transition-colors",title:"Move up",children:(0,x.jsx)(d,{className:"h-3 w-3 text-gray-600"})}),t<s.length-1&&(0,x.jsx)("button",{type:"button",onClick:()=>w(t,t+1),className:"p-1 bg-white rounded-full hover:bg-gray-100 transition-colors",title:"Move down",children:(0,x.jsx)(u,{className:"h-3 w-3 text-gray-600"})}),(0,x.jsx)("button",{type:"button",onClick:()=>(e=>{const t=s.filter(((t,a)=>a!==e));i(t)})(t),className:"p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",title:"Remove image",children:(0,x.jsx)(g.A,{className:"h-3 w-3"})})]}),0===t&&(0,x.jsx)("div",{className:"absolute top-1 left-1 bg-blue-500 text-white text-xs px-1 py-0.5 rounded",children:"Primary"})]},t)))}),s.length<b&&(0,x.jsxs)("div",{className:`\n            relative border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors\n            ${f?"border-primary bg-primary bg-opacity-5":"border-gray-300"}\n            ${l?"border-red-300":""}\n            ${o?"opacity-50 cursor-not-allowed":"hover:border-primary hover:bg-gray-50"}\n          `,onDragOver:e=>{e.preventDefault(),o||j(!0)},onDragLeave:e=>{e.preventDefault(),j(!1)},onDrop:e=>{if(e.preventDefault(),j(!1),o)return;const t=e.dataTransfer.files;t&&N(t)},onClick:()=>{!o&&k.current&&s.length<b&&k.current.click()},children:[(0,x.jsx)("input",{ref:k,type:"file",name:a,accept:m.join(","),onChange:e=>{const t=e.target.files;t&&N(t),e.target.value=""},className:"hidden",disabled:o,multiple:!0}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"flex justify-center",children:0===s.length?(0,x.jsx)(h.A,{className:"h-12 w-12 text-gray-400"}):(0,x.jsx)(p.A,{className:"h-8 w-8 text-gray-400"})}),(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsx)("p",{className:"text-sm text-gray-600",children:f?"Drop images here":0===s.length?"Click to upload or drag and drop images":"Add more images"}),(0,x.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["PNG, JPG, GIF up to ",Math.round(c/1024/1024),"MB each"]})]})]})]}),l&&(0,x.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l})]})};const y=function(e){let{label:t,value:a,onChange:r,fieldConfigs:s,createEmpty:i,error:n,disabled:c=!1,maxItems:d=20,className:m="",itemLabel:u}=e;const h=(e,t)=>{if(u)return u(e,t);const a=e.name||e.title||e.label;return a||`Item ${t+1}`};return(0,x.jsxs)("div",{className:m,children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,x.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[t,(0,x.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",a.length,"/",d," items)"]})]}),(0,x.jsxs)(l.A,{type:"button",variant:"outline",size:"sm",onClick:()=>{a.length<d&&r([...a,i()])},disabled:c||a.length>=d,icon:(0,x.jsx)(p.A,{className:"w-4 h-4"}),children:["Add ",t.slice(0,-1)," "]})]}),n&&(0,x.jsx)("p",{className:"mb-4 text-sm text-red-600",children:n}),(0,x.jsxs)("div",{className:"space-y-4",children:[a.map(((e,t)=>(0,x.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:h(e,t)}),(0,x.jsx)(l.A,{type:"button",variant:"outline",size:"sm",onClick:()=>(e=>{const t=a.filter(((t,a)=>a!==e));r(t)})(t),disabled:c,icon:(0,x.jsx)(g.A,{className:"w-4 h-4"}),className:"text-red-600 hover:text-red-700 border-red-300 hover:border-red-400",children:"Remove"})]}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((s=>{const i={key:s.name,label:s.label,name:`${s.name}_${t}`,type:s.type,value:e[s.name]||"",onChange:e=>{const i="number"===s.type?parseFloat(e.target.value)||0:e.target.value;((e,t,s)=>{const i=a.map(((a,r)=>r===e?{...a,[t]:s}:a));r(i)})(t,s.name,i)},required:s.required||!1,placeholder:s.placeholder||"",disabled:c,className:"textarea"===s.type?"md:col-span-2":""};return s.options&&(i.options=s.options),(0,x.jsx)(o.A,{...i})}))})]},t))),0===a.length&&(0,x.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,x.jsxs)("p",{className:"text-sm",children:["No ",t.toLowerCase()," added yet."]}),(0,x.jsxs)("p",{className:"text-xs mt-1",children:['Click "Add ',t.slice(0,-1),'" to get started.']})]})]})]})};var f=a(3593),j=a(934),k=a(1369);const N=e=>{let{formData:t,errors:a,onInputChange:r,onImagesChange:s,onAttributesChange:i,onVariantsChange:l,createEmptyAttribute:n,createEmptyVariant:c,attributeFieldConfigs:d,variantFieldConfigs:m,disabled:u=!1}=e;return(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsx)(f.A,{children:(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,x.jsx)(o.A,{label:"Product Name",name:"name",type:"text",value:t.name||"",onChange:r,error:a.name,required:!0,disabled:u,placeholder:"Enter product name"}),(0,x.jsx)(o.A,{label:"SKU",name:"sku",type:"text",value:t.sku||"",onChange:r,error:a.sku,required:!0,disabled:u,placeholder:"e.g., WBH-PRO-001"}),(0,x.jsx)(o.A,{label:"Category",name:"category",type:"select",value:t.category||"",onChange:r,error:a.category,required:!0,disabled:u,options:[{value:"Electronics",label:"Electronics"},{value:"Accessories",label:"Accessories"},{value:"Clothing",label:"Clothing"},{value:"Home & Garden",label:"Home & Garden"},{value:"Sports",label:"Sports"},{value:"Books",label:"Books"},{value:"Other",label:"Other"}]}),(0,x.jsx)(o.A,{label:"Status",name:"status",type:"select",value:t.status||"active",onChange:r,error:a.status,required:!0,disabled:u,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"out_of_stock",label:"Out of Stock"}]}),(0,x.jsx)(o.A,{label:"Price",name:"price",type:"number",value:t.price||0,onChange:r,error:a.price,required:!0,disabled:u,placeholder:"0.00"}),(0,x.jsx)(o.A,{label:"Stock Quantity",name:"stock",type:"number",value:t.stock||0,onChange:r,error:a.stock,required:!0,disabled:u,placeholder:"0"}),(0,x.jsx)(o.A,{label:"Minimum Stock Level",name:"minimumStock",type:"number",value:t.minimumStock||0,onChange:r,error:a.minimumStock,required:!0,disabled:u,placeholder:"0"})]}),(0,x.jsx)(o.A,{label:"Description",name:"description",type:"textarea",value:t.description||"",onChange:r,error:a.description,disabled:u,placeholder:"Enter product description..."})]})}),(0,x.jsx)(f.A,{children:(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)(h.A,{className:"h-5 w-5 text-gray-400"}),(0,x.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Product Images"})]}),(0,x.jsx)(b,{label:"Product Images",name:"images",value:t.images||[],onChange:s,error:a.images,disabled:u,maxFiles:10,maxSize:5242880,allowedTypes:["image/jpeg","image/png","image/gif","image/webp"]})]})}),(0,x.jsx)(f.A,{children:(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)(j.A,{className:"h-5 w-5 text-gray-400"}),(0,x.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Product Attributes"})]}),(0,x.jsx)(y,{label:"Attributes",value:t.attributes||[],onChange:i,fieldConfigs:d,createEmpty:n,error:a.attributes||void 0,disabled:u,maxItems:20,itemLabel:e=>e.name||"New Attribute"})]})}),(0,x.jsx)(f.A,{children:(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)(k.A,{className:"h-5 w-5 text-gray-400"}),(0,x.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Product Variants"})]}),(0,x.jsx)(y,{label:"Variants",value:t.variants||[],onChange:l,fieldConfigs:m,createEmpty:c,error:a.variants||void 0,disabled:u,maxItems:50,itemLabel:e=>e.name||"New Variant"})]})})]})};var w=a(9705),A=a(1525),C=a(6773),P=a(724),S=a(8267),E=a(5442),q=a(9422);const I=()=>{const{id:e}=(0,s.g)(),t=(0,s.Zp)(),{showError:a,showSuccess:o}=(0,w.A)(),{getProductById:c,uploadProductImages:d,deleteProductImage:m}=(0,A.QT)({initialFetch:!1}),[u,h]=(0,r.useState)(null),[p,v]=(0,r.useState)(!0),[b,y]=(0,r.useState)(!1),[f,j]=(0,r.useState)({}),[k,I]=(0,r.useState)({}),[L,U]=(0,r.useState)([]),$=(0,r.useRef)(a),R=(0,r.useRef)(o),M=(0,r.useRef)(t);(0,r.useEffect)((()=>{$.current=a,R.current=o,M.current=t}),[a,o,t]),(0,r.useEffect)((()=>{u&&j({name:u.name,sku:u.sku,category:u.category,price:u.price,stock:u.stock,minimumStock:u.minimumStock,status:u.status||"active",description:u.description||void 0,supplierId:u.supplierId,images:u.images||[],attributes:u.attributes||[],variants:u.variants||[]})}),[u]),(0,r.useEffect)((()=>{if(!e)return $.current("No product ID provided"),void M.current(P.b.SUPPLIERS);(async()=>{try{v(!0);const t=await c(e);h(t)}catch(t){console.error("Error fetching product:",t),$.current("Failed to load product details"),M.current(P.b.SUPPLIERS)}finally{v(!1)}})()}),[e,c]);return p?(0,x.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,x.jsx)(n.A,{size:"lg"})}):u?(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsx)(i.A,{title:`Edit ${u.name}`,description:"Update product information, images, attributes, and variants",breadcrumbs:[{label:"Suppliers",path:P.b.SUPPLIERS},{label:u.name,path:P.b.getProductDetailsRoute(u.id)},{label:"Edit"}],actions:(0,x.jsxs)("div",{className:"flex space-x-3",children:[(0,x.jsx)(l.A,{onClick:async()=>{if((()=>{const e=(0,C.l)(f,{name:[C.tU.required("Product name is required")],category:[C.tU.required("Category is required")],price:[C.tU.required("Price is required"),C.tU.price()],stock:[C.tU.required("Stock is required"),C.tU.stock()],minimumStock:[C.tU.required("Minimum stock is required"),C.tU.minimumStock(),C.tU.stockConsistency()],supplierId:[C.tU.required("Supplier is required")]});return I(e),0===Object.keys(e).length})()&&u&&e){y(!0);try{var t,a;const s=(null===(t=f.images)||void 0===t?void 0:t.filter((e=>e instanceof File)))||[],i=(null===(a=f.images)||void 0===a?void 0:a.filter((e=>"string"===typeof e)))||[];if(L.length>0){const t=L.map((async t=>{try{await m(e,t,!1),console.log(`Successfully deleted image: ${t}`)}catch(a){console.warn(`Failed to delete image ${t}:`,a)}}));await Promise.allSettled(t)}let l=[];if(s.length>0)try{l=(await d(e,s,!1)).imageUrls}catch(r){return console.error("Error uploading images:",r),void $.current("Failed to upload product images. Please try again.")}const n=[...i,...l],o={name:f.name,sku:f.sku||void 0,category:f.category,categoryId:u.categoryId,price:f.price,stock:f.stock,minimumStock:f.minimumStock,status:f.status||"active",description:f.description,supplierId:f.supplierId,attributes:f.attributes,variants:f.variants,images:n},c=await(0,A.X4)(e,o);h({...c,images:n}),U([]),R.current("Changes made successfully"),M.current(P.b.getProductDetailsRoute(e))}catch(s){console.error("Error updating product:",s),$.current("Failed to save changes. Please check your data and try again.")}finally{y(!1)}}},icon:(0,x.jsx)(q.A,{className:"w-4 h-4"}),variant:"primary",loading:b,disabled:b,children:"Save Changes"}),(0,x.jsx)(l.A,{onClick:()=>{M.current(P.b.getProductDetailsRoute(e))},icon:(0,x.jsx)(g.A,{className:"w-4 h-4"}),variant:"outline",disabled:b,children:"Cancel"})]})}),(0,x.jsx)(N,{formData:f,errors:k,onInputChange:e=>{const{name:t,value:a,type:r}=e.target,s="number"===r?parseFloat(a)||0:a;j((e=>({...e,[t]:s}))),k[t]&&I((e=>({...e,[t]:""})))},onImagesChange:e=>{if(null!==u&&void 0!==u&&u.images){const t=e.filter((e=>"string"===typeof e)),a=u.images.filter((e=>!t.includes(e)));U((e=>Array.from(new Set([...e,...a]))))}j((t=>({...t,images:e})))},onAttributesChange:e=>{j((t=>({...t,attributes:e})))},onVariantsChange:e=>{j((t=>({...t,variants:e})))},createEmptyAttribute:()=>({id:`attr_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:"",value:"",type:"text",unit:void 0}),createEmptyVariant:()=>({id:`var_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:"",sku:"",price:0,stock:0,attributes:{},image:void 0}),attributeFieldConfigs:[{name:"name",label:"Attribute Name",type:"text",required:!0,placeholder:"e.g., Brand, Weight, Color"},{name:"value",label:"Value",type:"text",required:!0,placeholder:"e.g., AudioTech, 250g, Black"},{name:"type",label:"Type",type:"select",required:!0,options:[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"select",label:"Select"}]},{name:"unit",label:"Unit (Optional)",type:"text",placeholder:"e.g., grams, hours, cm"}],variantFieldConfigs:[{name:"name",label:"Variant Name",type:"text",required:!0,placeholder:"e.g., Black, Large, Premium"},{name:"sku",label:"SKU",type:"text",required:!0,placeholder:"e.g., WBH-PRO-001-BLK"},{name:"price",label:"Price",type:"number",required:!0,placeholder:"0.00"},{name:"stock",label:"Stock",type:"number",required:!0,placeholder:"0"}],disabled:b})]}):(0,x.jsxs)("div",{className:"text-center py-12",children:[(0,x.jsx)(S.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,x.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Product not found"}),(0,x.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"The product you're trying to edit doesn't exist or has been removed."}),(0,x.jsx)("div",{className:"mt-6",children:(0,x.jsx)(l.A,{variant:"primary",onClick:()=>M.current(P.b.SUPPLIERS),icon:(0,x.jsx)(E.A,{className:"w-4 h-4"}),children:"Back to Suppliers"})})]})}},9422:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(5043);function s(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const i=r.forwardRef(s)}}]);
//# sourceMappingURL=895.8079d193.chunk.js.map