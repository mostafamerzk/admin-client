"use strict";(self.webpackChunkadmin_dashboard=self.webpackChunkadmin_dashboard||[]).push([[107],{107:(e,t,s)=>{s.d(t,{pC:()=>v,Sk:()=>w,cA:()=>Z,ID:()=>F,w2:()=>L,Nv:()=>ne,kp:()=>ae});var a=s(5043),r=s(7907),i=s(579);const n=e=>{let{label:t,name:s,type:a="text",value:r,onChange:n,error:l,required:o=!1,placeholder:c="",options:d=[],className:m="",disabled:u=!1,loading:p=!1}=e;const h="mt-1 block w-full rounded-md shadow-sm sm:text-sm "+(l?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-primary focus:ring-primary");return(0,i.jsxs)("div",{className:`${m}`,children:[(0,i.jsxs)("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700",children:[t," ",o&&(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(()=>{switch(a){case"textarea":return(0,i.jsx)("textarea",{id:s,name:s,value:r,onChange:n,className:h,placeholder:c,disabled:u});case"select":return(0,i.jsx)("select",{id:s,name:s,value:r,onChange:n,className:h,disabled:u||p,children:p?(0,i.jsx)("option",{value:"",children:"Loading..."}):d.map((e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))});case"checkbox":return(0,i.jsx)("input",{type:"checkbox",id:s,name:s,checked:r,onChange:n,className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",disabled:u});default:return(0,i.jsx)("input",{type:a,id:s,name:s,value:r,onChange:n,className:h,placeholder:c,disabled:u})}})(),l&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l})]})};var l=s(7591);function o(e,t){let{title:s,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const c=a.forwardRef(o);var d=s(4703);const m=e=>{let{label:t,name:s,value:r,onChange:n,error:o,required:m=!1,disabled:u=!1,maxSize:p=5242880,allowedTypes:h=["image/jpeg","image/png","image/gif","image/webp"],className:x=""}=e;const[g,y]=(0,a.useState)(!1),[v,f]=(0,a.useState)(null),b=(0,a.useRef)(null);a.useEffect((()=>{if(r instanceof File){const e=URL.createObjectURL(r);return f(e),()=>URL.revokeObjectURL(e)}return"string"===typeof r&&r?void f(r):void f(null)}),[r]);const w=(0,a.useCallback)((e=>{const t=(0,d.nJ)(e,{maxSize:p,allowedTypes:h});t.valid?n(e):console.error("File validation failed:",t.error)}),[p,h,n]);return(0,i.jsxs)("div",{className:x,children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t," ",m&&(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsxs)("div",{className:`\n          relative border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors\n          ${g?"border-primary bg-primary bg-opacity-5":"border-gray-300"}\n          ${o?"border-red-300":""}\n          ${u?"opacity-50 cursor-not-allowed":"hover:border-primary hover:bg-gray-50"}\n        `,onDragOver:e=>{e.preventDefault(),u||y(!0)},onDragLeave:e=>{e.preventDefault(),y(!1)},onDrop:e=>{var t;if(e.preventDefault(),y(!1),u)return;const s=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];s&&w(s)},onClick:()=>{!u&&b.current&&b.current.click()},children:[(0,i.jsx)("input",{ref:b,type:"file",name:s,accept:h.join(","),onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&w(s)},className:"hidden",disabled:u}),v?(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:v,alt:"Preview",className:"mx-auto h-32 w-32 object-cover rounded-lg"}),!u&&(0,i.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),n(null),b.current&&(b.current.value="")},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:(0,i.jsx)(l.A,{className:"h-4 w-4"})})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(c,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:g?"Drop image here":"Click to upload or drag and drop"}),(0,i.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["PNG, JPG, GIF up to ",Math.round(p/1024/1024),"MB"]})]})]})]}),o&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o})]})};var u=s(6773),p=s(9456);const h=[{id:"1",name:"Retail",description:"Businesses that sell products directly to consumers"},{id:"2",name:"Wholesale",description:"Businesses that sell products in bulk to other businesses"},{id:"3",name:"Manufacturing",description:"Businesses that produce goods from raw materials"},{id:"4",name:"Technology",description:"Businesses focused on technology products and services"},{id:"5",name:"Healthcare",description:"Businesses providing medical and health-related services"},{id:"6",name:"Food & Beverage",description:"Businesses in the food and beverage industry"},{id:"7",name:"Automotive",description:"Businesses related to vehicles and automotive services"},{id:"8",name:"Construction",description:"Businesses involved in building and construction"},{id:"9",name:"Education",description:"Educational institutions and training services"},{id:"10",name:"Financial Services",description:"Banks, insurance companies, and financial institutions"},{id:"11",name:"Real Estate",description:"Property development, sales, and management"},{id:"12",name:"Transportation",description:"Logistics, shipping, and transportation services"},{id:"13",name:"Entertainment",description:"Media, entertainment, and recreational services"},{id:"14",name:"Agriculture",description:"Farming, livestock, and agricultural products"},{id:"15",name:"Professional Services",description:"Consulting, legal, accounting, and other professional services"}],x={getBusinessTypes:async()=>{try{return await new Promise((e=>setTimeout(e,500))),h}catch(e){throw(0,d.hS)(e)}},getBusinessTypeById:async e=>{try{const t=await p.A.get(`/business-types/${e}`);if(!t.data)throw new Error(`No business type data received for ID: ${e}`);return t.data}catch(t){throw(0,d.hS)(t)}}},{getBusinessTypes:g,getBusinessTypeById:y}=x,v=e=>{let{onSubmit:t,onCancel:s,isLoading:l=!1}=e;const[o,c]=(0,a.useState)({name:"",email:"",type:"customer",phone:"",address:"",businessType:"",password:"",confirmPassword:"",sendInvite:!0,image:null}),[d,p]=(0,a.useState)({}),[h,x]=(0,a.useState)([]),[y,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{v(!0);try{const e=await g();x(e)}catch(e){console.error("Failed to load business types:",e)}finally{v(!1)}})()}),[]);const f=e=>{const{name:t,value:s,type:a}=e.target;if("checkbox"===a){const s=e.target.checked;c((e=>({...e,[t]:s})))}else c((e=>({...e,[t]:s})));d[t]&&p((e=>({...e,[t]:""})))};return(0,i.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),(()=>{const e={name:[u.tU.required("Name is required")],email:[u.tU.required("Email is required"),u.tU.email()],type:[u.tU.required("User type is required")],password:[u.tU.required("Password is required"),u.tU.password()],confirmPassword:[u.tU.required("Confirm password is required"),u.tU.passwordMatch()],address:[u.tU.required("Address is required")],businessType:[u.tU.required("Business type is required")]},t=(0,u.l)(o,e);return p(t),0===Object.keys(t).length})()){const e={...o,image:o.image};t(e)}},className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,i.jsx)(n,{label:"Full Name",name:"name",value:o.name,onChange:f,error:d.name,required:!0}),(0,i.jsx)(n,{label:"Email",name:"email",type:"email",value:o.email,onChange:f,error:d.email,required:!0}),(0,i.jsx)(n,{label:"User Type",name:"type",type:"select",value:o.type,onChange:f,error:d.type,required:!0,options:[{value:"customer",label:"Customer"},{value:"supplier",label:"Supplier"}]}),(0,i.jsx)(n,{label:"Phone Number",name:"phone",value:o.phone,onChange:f,error:d.phone}),(0,i.jsx)(n,{label:"Address",name:"address",type:"textarea",value:o.address,onChange:f,error:d.address,required:!0,placeholder:"Enter full address"}),(0,i.jsx)(n,{label:"Business Type",name:"businessType",type:"select",value:o.businessType,onChange:f,error:d.businessType,required:!0,loading:y,options:[{value:"",label:"Select Business Type"},...h.map((e=>({value:e.id,label:e.name})))]}),(0,i.jsx)(n,{label:"Password",name:"password",type:"password",value:o.password,onChange:f,error:d.password,required:!0}),(0,i.jsx)(n,{label:"Confirm Password",name:"confirmPassword",type:"password",value:o.confirmPassword,onChange:f,error:d.confirmPassword,required:!0})]}),(0,i.jsx)(m,{label:"Profile Picture",name:"image",value:o.image,onChange:e=>{c((t=>({...t,image:e}))),d.image&&p((e=>({...e,image:""})))},error:d.image||void 0,maxSize:5242880,allowedTypes:["image/jpeg","image/png","image/gif","image/webp"]}),(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)(n,{label:"Send invitation email",name:"sendInvite",type:"checkbox",value:o.sendInvite,onChange:f,className:"flex items-center space-x-2"})}),(0,i.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,i.jsx)(r.A,{variant:"outline",onClick:s,disabled:l,children:"Cancel"}),(0,i.jsx)(r.A,{type:"submit",loading:l,children:"Add User"})]})]})};var f=s(3593),b=s(9705);const w=e=>{let{user:t,onSubmit:s,isLoading:n=!1}=e;const[l,o]=(0,a.useState)({name:"",email:"",type:"customer"}),[c,d]=(0,a.useState)({}),{showNotification:m}=(0,b.A)();(0,a.useEffect)((()=>{t&&o({name:t.name,email:t.email,type:t.type})}),[t]);const p=e=>{const{name:t,value:s,type:a}=e.target;if("checkbox"===a){const s=e.target.checked;o((e=>({...e,[t]:s})))}else o((e=>({...e,[t]:s})));c[t]&&d((e=>({...e,[t]:""})))};return(0,i.jsx)(f.A,{children:(0,i.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={name:[u.tU.required("Name is required")],email:[u.tU.required("Email is required"),u.tU.email()],type:[u.tU.required("User type is required")]},t=(0,u.l)(l,e);return d(t),0===Object.keys(t).length})())try{await s(l),m({type:"success",title:"Success",message:"User updated successfully"})}catch(t){}},className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Full Name ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)("input",{type:"text",id:"name",name:"name",value:l.name,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(c.name?"border-red-300":"")}),c.name&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.name})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)("input",{type:"email",id:"email",name:"email",value:l.email,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(c.email?"border-red-300":"")}),c.email&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:["User Type ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsxs)("select",{id:"type",name:"type",value:l.type,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(c.type?"border-red-300":""),children:[(0,i.jsx)("option",{value:"customer",children:"Customer"}),(0,i.jsx)("option",{value:"supplier",children:"Supplier"})]}),c.type&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.type})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,i.jsx)("input",{type:"password",id:"password",name:"password",value:l.password||"",onChange:p,placeholder:"Leave blank to keep current password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(c.password?"border-red-300":"")}),c.password&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.password})]})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,i.jsx)(r.A,{variant:"outline",type:"button",onClick:()=>window.history.back(),disabled:n,children:"Cancel"}),(0,i.jsx)(r.A,{type:"submit",loading:n,children:"Save Changes"})]})]})})};var j=s(3216);const N=e=>{let{title:t,description:s,children:a,className:r=""}=e;return(0,i.jsxs)("div",{className:`bg-white shadow overflow-hidden sm:rounded-lg ${r}`,children:[(0,i.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,i.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:t}),s&&(0,i.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:s})]}),(0,i.jsx)("div",{className:"border-t border-gray-200",children:a})]})},k=e=>{let{children:t,className:s=""}=e;return(0,i.jsx)("dl",{className:`sm:divide-y sm:divide-gray-200 ${s}`,children:t})},A=e=>{let{label:t,value:s,className:a=""}=e;return(0,i.jsxs)("div",{className:`py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 ${a}`,children:[(0,i.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:t}),(0,i.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s})]})};var U=s(3893),E=s(4692),C=s(9531);const S=e=>{let{orders:t,title:s="Orders",description:a="Recent orders",onViewOrder:n,emptyMessage:l="No orders found",className:o=""}=e;return(0,i.jsx)(N,{title:s,description:a,className:o,children:0===t.length?(0,i.jsx)("div",{className:"px-4 py-5 text-center text-sm text-gray-500",children:l}):(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e=>(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-primary",children:e.id}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,U.Yq)(e.orderDate)}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,U.vv)(e.totalAmount)}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)(E.A,{status:e.status,type:"order"})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n&&(0,i.jsx)(r.A,{variant:"text",size:"sm",onClick:()=>n(e),icon:(0,i.jsx)(C.A,{className:"w-4 h-4"}),children:"View"})})]},e.id)))})]})})})};var B=s(724);const F=e=>{let{user:t,userOrders:s=[]}=e;const a=(0,j.Zp)();return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(N,{title:"User Information",description:"Personal details and application",children:(0,i.jsxs)(k,{children:[(0,i.jsx)(A,{label:"Full name",value:t.name}),(0,i.jsx)(A,{label:"Email address",value:t.email}),(0,i.jsx)(A,{label:"User type",value:t.type}),(0,i.jsx)(A,{label:"Status",value:(0,i.jsx)(E.A,{status:t.status,type:"user"})}),(0,i.jsx)(A,{label:"Last login",value:t.lastLogin})]})}),(0,i.jsx)(S,{orders:s,title:"User Orders",description:"Orders placed by this user",onViewOrder:e=>{a(B.b.getOrderDetailsRoute(e.id))},emptyMessage:"This user has not placed any orders yet"})]})};var I=s(5445),$=s(8682),D=s(2811),q=s(9248);const L=e=>{let{users:t,onViewUser:s,onEditUser:a,onDeleteUser:r,onUserClick:n,title:l="Users",loading:o=!1}=e;const c=(0,j.Zp)(),d=[{key:"name",label:"Name",sortable:!0,render:(e,t)=>(0,i.jsxs)("div",{className:"flex items-center",children:[t.avatar?(0,i.jsx)("img",{src:t.avatar,alt:t.name,className:"w-8 h-8 rounded-full mr-3 object-cover"}):(0,i.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center mr-3",children:t.name.charAt(0)}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium text-gray-900",children:t.name}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",t.id]})]})]})},{key:"email",label:"Email",sortable:!0,render:e=>(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)($.A,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,i.jsx)("span",{children:e})]})},{key:"type",label:"Type",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"lastLogin",label:"Last Login",sortable:!0},{key:"actions",label:"Actions",render:(e,t)=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("button",{className:"p-1 text-gray-500 hover:text-primary rounded-full hover:bg-gray-100",onClick:e=>{e.stopPropagation(),s(t)},children:(0,i.jsx)(C.A,{className:"w-5 h-5"})}),(0,i.jsx)("button",{className:"p-1 text-gray-500 hover:text-blue-600 rounded-full hover:bg-gray-100",onClick:e=>{e.stopPropagation(),c(B.b.getUserEditRoute(t.id))},children:(0,i.jsx)(D.A,{className:"w-5 h-5"})}),(0,i.jsx)("button",{className:"p-1 text-gray-500 hover:text-red-600 rounded-full hover:bg-gray-100",onClick:e=>{e.stopPropagation(),r(t)},children:(0,i.jsx)(q.A,{className:"w-5 h-5"})})]})}];return(0,i.jsx)(I.A,{data:t,columns:d,onRowClick:n,title:l,pagination:!0,loading:o,emptyMessage:"No users found"})};var T=s(3488),O=s(2683),P=s(7012),R=s(2724);const M=e=>{let{metrics:t,className:s=""}=e;return(0,i.jsx)("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-6 ${s}`,children:t.map(((e,t)=>(0,i.jsx)(R.A,{title:e.title,data:{total:"string"===typeof e.value?parseFloat(e.value)||0:e.value,growth:e.change||0},icon:e.icon},t)))})},V=e=>{let{title:t,description:s,children:a,className:r=""}=e;return(0,i.jsxs)(f.A,{className:r,children:[(0,i.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,i.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:t}),s&&(0,i.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:s})]}),(0,i.jsx)("div",{className:"px-4 py-5 sm:p-6",children:a})]})};var H=s(7995);const Z=e=>{let{userId:t,userData:s}=e;const a=[{title:"Total Orders",value:s.totalOrders,icon:(0,i.jsx)(T.A,{className:"w-6 h-6 text-blue-500"})},{title:"Total Spent",value:(0,U.vv)(s.totalSpent),icon:(0,i.jsx)(O.A,{className:"w-6 h-6 text-green-500"})},{title:"Average Order",value:(0,U.vv)(s.averageOrderValue),icon:(0,i.jsx)(P.A,{className:"w-6 h-6 text-purple-500"})}],r=s.orderHistory.map((e=>({label:e.date,value:e.amount})));return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(M,{metrics:a}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(0,i.jsx)(V,{title:"Order History",description:"User's order history over time",children:(0,i.jsx)(H.A,{title:"Order History",data:r.map((e=>e.value)),labels:r.map((e=>e.label)),color:"bg-primary"})})})]})};var W=s(233);const z={getUsers:async e=>{try{const t=await p.A.get("/users",{params:e});if(!t.data)throw new Error("No users data received");return t.data}catch(t){throw(0,d.hS)(t)}},getUserById:async e=>{try{const t=await p.A.get(`/users/${e}`);if(!t.data)throw new Error(`No user data received for ID: ${e}`);return t.data}catch(t){throw(0,d.hS)(t)}},createUser:async e=>{try{const t=await p.A.post("/users",e);if(!t.data)throw new Error("Failed to create user");return t.data}catch(t){throw(0,d.hS)(t)}},updateUser:async(e,t)=>{try{const s=await p.A.put(`/users/${e}`,t);if(!s.data)throw new Error(`Failed to update user ${e}`);return s.data}catch(s){throw(0,d.hS)(s)}},deleteUser:async e=>{try{await p.A.delete(`/users/${e}`)}catch(t){throw(0,d.hS)(t)}},toggleUserStatus:async(e,t)=>{try{const s=await p.A.put(`/users/${e}/status`,{status:t});if(!s.data)throw new Error(`Failed to toggle status for user ${e}`);return s.data}catch(s){throw(0,d.hS)(s)}},searchUsers:async e=>{try{const t=await p.A.get("/users",{params:{search:e}});if(!t.data)throw new Error("No users data received");return t.data}catch(t){throw(0,d.hS)(t)}},getUsersByType:async e=>{try{const t=await p.A.get("/users",{params:{type:e}});if(!t.data)throw new Error("No users data received");return t.data}catch(t){throw(0,d.hS)(t)}},uploadUserImage:async e=>{try{const t=new FormData;t.append("image",e);const s=await p.A.post("/users/upload-image",t,{headers:{"Content-Type":"multipart/form-data"}});if(!s.data)throw new Error("Failed to upload user image");return s.data}catch(t){throw(0,d.hS)(t)}}},{getUsers:G,getUserById:J,createUser:Y,updateUser:_,deleteUser:K,toggleUserStatus:Q,searchUsers:X,getUsersByType:ee,uploadUserImage:te}=z,se=z,ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initialFetch:!0};const t={getAll:se.getUsers,getById:se.getUserById,create:se.createUser,update:se.updateUser,delete:se.deleteUser},s=(0,W.B)(t,{entityName:"users",initialFetch:e.initialFetch}),{showNotification:r}=(0,b.A)(),i=(0,a.useCallback)((async(e,t)=>{try{const a=await se.toggleUserStatus(e,t);return s.entities.forEach(((t,r)=>{if(t.id===e){[...s.entities][r]=a}})),r({type:"success",title:"Success",message:`User ${"active"===t?"activated":"banned"} successfully`}),a}catch(a){throw r({type:"error",title:"Error",message:`Failed to ${"active"===t?"activate":"ban"} user`}),a}}),[s.entities,r]),n=(0,a.useCallback)((async(e,t)=>{try{const a=await se.updateUser(e,t),i=[...s.entities],n=i.findIndex((t=>t.id===e));return-1!==n&&(i[n]=a),r({type:"success",title:"Success",message:"User updated successfully"}),a}catch(a){throw r({type:"error",title:"Error",message:"Failed to update user"}),a}}),[s.entities,r]);return{...s,users:s.entities,fetchUsers:s.fetchEntities,getUserById:s.getEntityById,toggleUserStatus:i,updateUser:n}};var re=s(6953);const ie=e=>"admin"===e.type?null:{id:e.id,name:e.name,email:e.email,type:e.type,status:"pending"===e.status?"active":e.status,lastLogin:e.lastLogin?new Date(e.lastLogin).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],avatar:e.avatar||""},ne=()=>re.V.map(ie).filter((e=>null!==e))},233:(e,t,s)=>{s.d(t,{B:()=>i});var a=s(5043),r=s(9705);const i=(e,t)=>{const[s,i]=(0,a.useState)([]),[n,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),{showNotification:d}=(0,r.A)(),m=(0,a.useRef)(e),u=(0,a.useRef)(d),p=(0,a.useRef)(t.entityName),h=(0,a.useRef)(!1);(0,a.useEffect)((()=>{m.current=e,u.current=d,p.current=t.entityName}));const x=(0,a.useCallback)((async e=>{l(!0),c(null);try{const t=await m.current.getAll(e);return i(t),t}catch(t){const e=t;throw c(e),u.current({type:"error",title:"Error",message:`Failed to fetch ${p.current}`}),e}finally{l(!1)}}),[]),g=(0,a.useCallback)((async e=>{l(!0),c(null);try{return await m.current.getById(e)}catch(t){const e=t;throw c(e),u.current({type:"error",title:"Error",message:`Failed to fetch ${p.current}`}),e}finally{l(!1)}}),[]);return(0,a.useEffect)((()=>{if(!1!==t.initialFetch&&!h.current){console.log(`[useEntityData] Starting initial fetch for ${t.entityName}`),h.current=!0;const s=async()=>{l(!0),c(null);try{console.log(`[useEntityData] Calling API for ${t.entityName}`);const s=await e.getAll();console.log(`[useEntityData] Received data for ${t.entityName}:`,s),i(s)}catch(s){const e=s;console.error(`[useEntityData] Error fetching ${t.entityName}:`,e),c(e),d({type:"error",title:"Error",message:`Failed to fetch ${t.entityName}`})}finally{console.log(`[useEntityData] Finished fetch for ${t.entityName}`),l(!1)}};s()}}),[]),{entities:s,isLoading:n,error:o,fetchEntities:x,getEntityById:g}}},2683:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5043);function r(e,t){let{title:s,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i=a.forwardRef(r)},2724:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(5043),r=s(3593),i=s(579);const n=e=>{if(!a.isValidElement(e))return"bg-primary bg-opacity-10";const t=e.props.className||"";return t.includes("text-primary")?"bg-primary bg-opacity-10":t.includes("text-blue")?"bg-blue-500 bg-opacity-10":t.includes("text-green")?"bg-green-500 bg-opacity-10":t.includes("text-yellow")?"bg-yellow-500 bg-opacity-10":t.includes("text-red")?"bg-red-500 bg-opacity-10":t.includes("text-purple")?"bg-purple-500 bg-opacity-10":t.includes("text-indigo")?"bg-indigo-500 bg-opacity-10":t.includes("text-pink")?"bg-pink-500 bg-opacity-10":t.includes("text-gray")?"bg-gray-500 bg-opacity-10":"bg-primary bg-opacity-10"},l=e=>{let{title:t,data:s,icon:l,formatValue:o=e=>e.toString()}=e;return(0,i.jsx)(r.A,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:`p-3 rounded-full ${n(l)}`,children:a.isValidElement(l)?(()=>{const e=l,t=(e.props.className||"").match(/text-[a-z0-9-]+/),s=t?t[0]:"text-primary";return a.cloneElement(e,{className:`w-6 h-6 ${s}`})})():l}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:t}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o(s.total)}),(0,i.jsxs)("span",{className:"ml-2 text-sm font-medium "+(s.growth>=0?"text-green-600":"text-red-600"),children:[s.growth>=0?"+":"",s.growth.toFixed(1),"%"]})]}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"vs previous period"})]})]})})}},3893:(e,t,s)=>{s.d(t,{Yq:()=>a,vv:()=>r});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"-";try{const s=new Date(e),a={year:"numeric",month:"short",day:"numeric",...t};return new Intl.DateTimeFormat("en-US",a).format(s)}catch(s){return console.error("Error formatting date:",s),e}},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";try{return new Intl.NumberFormat(s,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}catch(a){return console.error("Error formatting currency:",a),`${t} ${e.toFixed(2)}`}}},4692:(e,t,s)=>{s.d(t,{A:()=>c});s(5043);var a=s(4538),r=s(7012),i=s(7098),n=s(5889),l=s(3867),o=s(579);const c=e=>{let{status:t,type:s="user",className:c=""}=e;const d=t.toLowerCase();let m="",u=null;"active"===d||"verified"===d||"completed"===d?(m="bg-green-100 text-green-800",u=(0,o.jsx)(a.A,{className:"w-4 h-4 mr-1"})):"pending"===d||"processing"===d?(m="bg-blue-100 text-blue-800",u=(0,o.jsx)(r.A,{className:"w-4 h-4 mr-1"})):"banned"===d||"rejected"===d?(m="bg-red-100 text-red-800",u=(0,o.jsx)(i.A,{className:"w-4 h-4 mr-1"})):"shipped"===d?(m="bg-purple-100 text-purple-800",u=(0,o.jsx)(n.A,{className:"w-4 h-4 mr-1"})):"warning"===d?(m="bg-yellow-100 text-yellow-800",u=(0,o.jsx)(l.A,{className:"w-4 h-4 mr-1"})):m="bg-gray-100 text-gray-800";const p=t.charAt(0).toUpperCase()+t.slice(1);return(0,o.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m} ${c}`,children:[u,p]})}},5445:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(7422),r=s(579);const i=e=>{let{data:t,columns:s,onRowClick:i,title:n,pagination:l=!0,loading:o=!1,emptyMessage:c="No data available",className:d=""}=e;return(0,r.jsx)(a.A,{columns:s,data:t,onRowClick:i,title:n,pagination:l,loading:o,emptyMessage:c,className:d})}},5889:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5043);function r(e,t){let{title:s,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const i=a.forwardRef(r)},7012:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5043);function r(e,t){let{title:s,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i=a.forwardRef(r)},7995:(e,t,s)=>{s.d(t,{A:()=>i});s(5043);var a=s(3593),r=s(579);const i=e=>{let{title:t,labels:s,data:i,color:n="bg-primary"}=e;return(0,r.jsx)(a.A,{title:t,children:(0,r.jsx)("div",{className:"h-80 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-full h-full",children:(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsx)("div",{className:"flex justify-between mb-4",children:s.map(((e,t)=>(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e},t)))}),(0,r.jsx)("div",{className:"flex-1 flex items-end",children:i.map(((e,t)=>{const s=e/Math.max(...i)*100+"%";return(0,r.jsx)("div",{className:"flex-1 mx-1",children:(0,r.jsx)("div",{className:`${n} rounded-t-md w-full transition-all duration-500`,style:{height:s}})},t)}))})]})})})})}},8682:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5043);function r(e,t){let{title:s,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const i=a.forwardRef(r)}}]);
//# sourceMappingURL=107.cf7531d5.chunk.js.map