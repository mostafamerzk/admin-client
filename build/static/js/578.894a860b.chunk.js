"use strict";(self.webpackChunkadmin_dashboard=self.webpackChunkadmin_dashboard||[]).push([[578],{165:(e,t,r)=>{r.d(t,{fK:()=>y,Ji:()=>w,F9:()=>n,Gy:()=>O,h:()=>N});var s=r(5043),a=r(5445),l=r(4692),i=r(3893),d=r(579);const n=e=>{let{orders:t,onOrderClick:r,title:s="Orders",loading:n=!1}=e;const c=[{key:"id",label:"Order ID",sortable:!0,render:e=>(0,d.jsx)("span",{className:"font-medium text-primary",children:e})},{key:"customerName",label:"Customer",sortable:!0},{key:"supplierName",label:"Supplier",sortable:!0},{key:"totalAmount",label:"Total Amount",sortable:!0,render:e=>(0,i.vv)(e)},{key:"status",label:"Status",sortable:!0,render:e=>(0,d.jsx)(l.A,{status:e,type:"order"})},{key:"orderDate",label:"Order Date",sortable:!0},{key:"deliveryDate",label:"Delivery Date",sortable:!0}];return(0,d.jsx)(a.A,{data:t,columns:c,onRowClick:r,title:s,pagination:!0,loading:n,emptyMessage:"No orders found"})};var c=r(7012),o=r(4538),m=r(5889),u=r(7098),x=r(4129),h=r(9996),p=r(7988);const y=e=>{let{order:t}=e;return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Order #",t.id]}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return""}})(t.status)}`,children:[(e=>{switch(e){case"pending":return(0,d.jsx)(c.A,{className:"w-5 h-5 text-yellow-500"});case"approved":return(0,d.jsx)(o.A,{className:"w-5 h-5 text-blue-500"});case"completed":return(0,d.jsx)(m.A,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,d.jsx)(u.A,{className:"w-5 h-5 text-red-500"});default:return null}})(t.status),(0,d.jsx)("span",{className:"ml-1",children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]})})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Total Amount"}),(0,d.jsx)("div",{className:"text-xl font-bold text-primary",children:(0,i.vv)(t.totalAmount)})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)(x.A,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Customer"}),(0,d.jsx)("div",{className:"text-sm text-gray-900",children:t.customerName})]})]}),(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)(h.A,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Supplier"}),(0,d.jsx)("div",{className:"text-sm text-gray-900",children:t.supplierName})]})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)(p.A,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Order Date"}),(0,d.jsx)("div",{className:"text-sm text-gray-900",children:(0,i.Yq)(t.orderDate)})]})]}),(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)(m.A,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Delivery Date"}),(0,d.jsx)("div",{className:"text-sm text-gray-900",children:(0,i.Yq)(t.deliveryDate)})]})]})]})]}),t.items&&t.items.length>0&&(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"Order Items"}),(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.items.map((e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,i.vv)(e.unitPrice)}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,i.vv)(e.quantity*e.unitPrice)})]},e.id)))}),(0,d.jsx)("tfoot",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:3,className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:"Total"}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-primary",children:(0,i.vv)(t.totalAmount)})]})})]})})]})]})};var g=r(7907);const w=e=>{let{activeFilter:t,onFilterChange:r}=e;return(0,d.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,d.jsx)(g.A,{variant:"all"===t?"primary":"outline",size:"sm",onClick:()=>r("all"),children:"All Orders"}),(0,d.jsx)(g.A,{variant:"pending"===t?"primary":"outline",size:"sm",onClick:()=>r("pending"),children:"Pending"}),(0,d.jsx)(g.A,{variant:"approved"===t?"primary":"outline",size:"sm",onClick:()=>r("approved"),children:"Approved"}),(0,d.jsx)(g.A,{variant:"completed"===t?"primary":"outline",size:"sm",onClick:()=>r("completed"),children:"Completed"}),(0,d.jsx)(g.A,{variant:"rejected"===t?"primary":"outline",size:"sm",onClick:()=>r("rejected"),children:"Rejected"})]})};var f=r(9456);const v={getOrders:async e=>{try{const t=await f.A.get("/orders",{params:e});if(!t.data)throw new Error("No orders data received");return t.data}catch(t){throw console.error("Error fetching orders:",t),t}},getOrderById:async e=>{try{const t=await f.A.get(`/orders/${e}`);if(!t.data)throw new Error(`No order data received for ID: ${e}`);return t.data}catch(t){throw console.error(`Error fetching order ${e}:`,t),t}},createOrder:async e=>{try{const t=await f.A.post("/orders",e);if(!t.data)throw new Error("Failed to create order");return t.data}catch(t){throw console.error("Error creating order:",t),t}},updateOrder:async(e,t)=>{try{const r=await f.A.put(`/orders/${e}`,t);if(!r.data)throw new Error(`Failed to update order ${e}`);return r.data}catch(r){throw console.error(`Error updating order ${e}:`,r),r}},deleteOrder:async e=>{try{await f.A.delete(`/orders/${e}`)}catch(t){throw console.error(`Error deleting order ${e}:`,t),t}},updateOrderStatus:async(e,t)=>{try{const r=await f.A.put(`/orders/${e}/status`,{status:t});if(!r.data)throw new Error(`Failed to update status for order ${e}`);return r.data}catch(r){throw console.error(`Error updating status for order ${e}:`,r),r}},getOrdersByStatus:async e=>{try{const t=await f.A.get("/orders",{params:{status:e}});if(!t.data)throw new Error(`No orders found with status: ${e}`);return t.data}catch(t){throw console.error(`Error fetching orders with status ${e}:`,t),t}},getOrdersByCustomer:async e=>{try{const t=await f.A.get("/orders",{params:{customerId:e}});if(!t.data)throw new Error(`No orders found for customer: ${e}`);return t.data}catch(t){throw console.error(`Error fetching orders for customer ${e}:`,t),t}}};var j=r(9705);const N=()=>{const[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null),{showNotification:d}=(0,j.A)(),n=(0,s.useCallback)((async()=>{a(!0),i(null);try{const e=await v.getOrders();t(e)}catch(e){i(e),d({type:"error",title:"Error",message:"Failed to fetch orders"})}finally{a(!1)}}),[d]),c=(0,s.useCallback)((async e=>{a(!0),i(null);try{return await v.getOrderById(e)}catch(t){throw i(t),d({type:"error",title:"Error",message:`Failed to fetch order ${e}`}),t}finally{a(!1)}}),[d]),o=(0,s.useCallback)((async(e,r)=>{a(!0),i(null);try{const s=await v.updateOrder(e,r);return t((t=>t.map((t=>t.id===e?s:t)))),d({type:"success",title:"Success",message:"Order updated successfully"}),s}catch(s){throw i(s),d({type:"error",title:"Error",message:"Failed to update order"}),s}finally{a(!1)}}),[d]),m=(0,s.useCallback)((async e=>{a(!0),i(null);try{const r=await v.updateOrderStatus(e,"rejected");return t((t=>t.map((t=>t.id===e?r:t)))),d({type:"success",title:"Success",message:"Order cancelled successfully"}),r}catch(r){throw i(r),d({type:"error",title:"Error",message:"Failed to cancel order"}),r}finally{a(!1)}}),[d]),u=(0,s.useCallback)((async e=>{a(!0),i(null);try{return await v.getOrdersByStatus(e)}catch(t){throw i(t),d({type:"error",title:"Error",message:`Failed to fetch orders with status ${e}`}),t}finally{a(!1)}}),[d]),x=(0,s.useCallback)((async e=>{a(!0),i(null);try{return await v.getOrdersByCustomer(e)}catch(t){throw i(t),d({type:"error",title:"Error",message:`Failed to fetch orders for customer ${e}`}),t}finally{a(!1)}}),[d]);return(0,s.useEffect)((()=>{n()}),[n]),{orders:e,isLoading:r,error:l,fetchOrders:n,getOrderById:c,updateOrder:o,cancelOrder:m,getOrdersByStatus:u,getOrdersByCustomer:x}};var b=r(4624);const A=e=>({id:e.id,name:e.productName,quantity:e.quantity,unitPrice:e.unitPrice,sku:e.productId}),k=e=>{const t=e=>e?new Date(e).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0];return{id:e.orderNumber||e.id,customerName:e.customerName,supplierName:e.supplierName,totalAmount:e.totalAmount,status:"cancelled"===e.status?"rejected":e.status,orderDate:t(e.orderDate),deliveryDate:t(e.deliveryDate),items:e.items?e.items.map(A):[],...e.shippingAddress&&{shippingAddress:{street:e.shippingAddress.street,city:e.shippingAddress.city,state:e.shippingAddress.state,postalCode:e.shippingAddress.zipCode,country:e.shippingAddress.country}},notes:e.notes}},O=()=>b.W.map(k)},2806:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(5043),a=r(5475),l=r(5501),i=r(6365),d=r(579);const n=e=>{let{title:t,description:r,actions:s,breadcrumbs:n,className:c="",testId:o}=e;return(0,d.jsxs)("div",{className:`mb-6 ${c}`,"data-testid":o,children:[n&&n.length>0&&(0,d.jsx)("nav",{className:"flex mb-4","aria-label":"Breadcrumb",children:(0,d.jsxs)("ol",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,d.jsx)("li",{children:(0,d.jsx)(a.N_,{to:"/",className:"flex items-center hover:text-primary","aria-label":"Home",children:(0,d.jsx)(l.A,{className:"h-4 w-4"})})}),n.map(((e,t)=>(0,d.jsxs)("li",{className:"flex items-center",children:[(0,d.jsx)(i.A,{className:"h-4 w-4 mx-1 text-gray-400"}),e.path&&t<n.length-1?(0,d.jsx)(a.N_,{to:e.path,className:"hover:text-primary",children:e.label}):(0,d.jsx)("span",{className:"font-medium text-gray-700",children:e.label})]},t)))]})}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t}),r&&"string"===typeof r?(0,d.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:r}):r]}),s&&(0,d.jsx)("div",{className:"flex flex-wrap gap-3 mt-2 sm:mt-0",children:s})]})]})},c=(0,s.memo)(n)},4129:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(5043);function a(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const l=s.forwardRef(a)},6365:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(5043);function a(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const l=s.forwardRef(a)},7988:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(5043);function a(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const l=s.forwardRef(a)},9996:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(5043);function a(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const l=s.forwardRef(a)}}]);
//# sourceMappingURL=578.894a860b.chunk.js.map