"use strict";(self.webpackChunkadmin_dashboard=self.webpackChunkadmin_dashboard||[]).push([[259],{1512:(e,r,s)=>{s.d(r,{A:()=>l});var t=s(5043),a=s(4703),n=s(9705);const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{enableNotifications:r=!0,enableReporting:s=!0,onError:l}=e,{showNotification:i}=(0,n.A)(),[o,d]=(0,t.useState)({hasError:!1,error:null,errorType:null}),c=(0,t.useCallback)((()=>{d({hasError:!1,error:null,errorType:null})}),[]),m=(0,t.useCallback)(((e,t)=>{const n=(0,a.hS)(e,r?e=>{i({type:e.type,title:e.title,message:e.message})}:void 0);return d({hasError:!0,error:n,errorType:"api",...t&&{context:t}}),s&&e instanceof Error&&(0,a.N7)(e,t),l&&l(e,t),n}),[r,s,i,l]),u=(0,t.useCallback)(((e,s,t,n)=>{const o=(0,a.co)(e,s,t);return d({hasError:!0,error:o,errorType:"validation",...n&&{context:n}}),r&&i({type:"error",title:"Validation Error",message:o.message}),l&&l(o,n),o}),[r,i,l]),x=(0,t.useCallback)(((e,t,n)=>{(0,a.NC)(e,t,r?e=>{i({type:e.type,title:e.title,message:e.message})}:void 0),d({hasError:!0,error:e,errorType:"form",...n&&{context:n}}),s&&e instanceof Error&&(0,a.N7)(e,n),l&&l(e,n)}),[r,s,i,l]),h=(0,t.useCallback)(((e,t)=>{const n=e instanceof Error?e:new Error(String(e));return d({hasError:!0,error:n,errorType:"general",...t&&{context:t}}),r&&i({type:"error",title:"Error",message:n.message}),s&&(0,a.N7)(n,t),(0,a.vV)(n,t),l&&l(e,t),n}),[r,s,i,l]),p=(0,t.useCallback)((async(e,r)=>{try{return c(),await e()}catch(s){return m(s,r),null}}),[c,m]),g=(0,t.useCallback)((async(e,r,s)=>{try{return c(),await e()}catch(t){return x(t,r,s),null}}),[c,x]);return{...o,handleApiError:m,handleValidationError:u,handleFormError:x,handleGeneralError:h,clearError:c,withErrorHandling:p,withFormErrorHandling:g,isApiError:e=>e&&"object"===typeof e&&"status"in e,isValidationError:e=>e&&"object"===typeof e&&"field"in e}}},2806:(e,r,s)=>{s.d(r,{A:()=>d});var t=s(5043),a=s(5475),n=s(5501),l=s(6365),i=s(579);const o=e=>{let{title:r,description:s,actions:t,breadcrumbs:o,className:d="",testId:c}=e;return(0,i.jsxs)("div",{className:`mb-6 ${d}`,"data-testid":c,children:[o&&o.length>0&&(0,i.jsx)("nav",{className:"flex mb-4","aria-label":"Breadcrumb",children:(0,i.jsxs)("ol",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,i.jsx)("li",{children:(0,i.jsx)(a.N_,{to:"/",className:"flex items-center hover:text-primary","aria-label":"Home",children:(0,i.jsx)(n.A,{className:"h-4 w-4"})})}),o.map(((e,r)=>(0,i.jsxs)("li",{className:"flex items-center",children:[(0,i.jsx)(l.A,{className:"h-4 w-4 mx-1 text-gray-400"}),e.path&&r<o.length-1?(0,i.jsx)(a.N_,{to:e.path,className:"hover:text-primary",children:e.label}):(0,i.jsx)("span",{className:"font-medium text-gray-700",children:e.label})]},r)))]})}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:r}),s&&"string"===typeof s?(0,i.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s}):s]}),t&&(0,i.jsx)("div",{className:"flex flex-wrap gap-3 mt-2 sm:mt-0",children:t})]})]})},d=(0,t.memo)(o)},3593:(e,r,s)=>{s.d(r,{A:()=>l});var t=s(5043),a=s(579);const n=e=>{let{title:r,subtitle:s,children:t,className:n="",bodyClassName:l="",headerClassName:i="",footerClassName:o="",icon:d,footer:c,onClick:m,hoverable:u=!1,noPadding:x=!1,bordered:h=!0,loading:p=!1,testId:g}=e;const f=`\n    bg-white rounded-xl ${h?"border border-gray-100":""} overflow-hidden transition-all duration-300\n    ${u?"hover:shadow-md hover:border-gray-200 transform hover:-translate-y-1":"shadow-sm"}\n    ${m?"cursor-pointer":""}\n    ${n}\n  `,y=`\n    px-6 py-4 border-b border-gray-100 flex items-center justify-between\n    ${i}\n  `,b=`\n    ${x?"":"p-6"}\n    ${l}\n  `,j=`\n    px-6 py-4 bg-gray-50 border-t border-gray-100\n    ${o}\n  `;return p?(0,a.jsxs)("div",{className:f,"data-testid":g,children:[(r||s||d)&&(0,a.jsxs)("div",{className:y,children:[(0,a.jsxs)("div",{className:"w-full",children:[r&&(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 animate-pulse"}),s&&(0,a.jsx)("div",{className:"h-4 mt-2 bg-gray-200 rounded w-1/2 animate-pulse"})]}),d&&(0,a.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded-full animate-pulse"})]}),(0,a.jsx)("div",{className:b,children:(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})}),c&&(0,a.jsx)("div",{className:j,children:(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 animate-pulse"})})]}):(0,a.jsxs)("div",{className:f,onClick:m,"data-testid":g,children:[(r||s||d)&&(0,a.jsxs)("div",{className:y,children:[(0,a.jsxs)("div",{children:["string"===typeof r?(0,a.jsx)("h3",{className:"text-lg font-semibold text-primary",children:r}):r,"string"===typeof s?(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s}):s]}),d&&(0,a.jsx)("div",{className:"text-primary",children:d})]}),(0,a.jsx)("div",{className:b,children:t}),c&&(0,a.jsx)("div",{className:j,children:c})]})},l=(0,t.memo)(n)},6259:(e,r,s)=>{s.r(r),s.d(r,{default:()=>g});var t=s(5043),a=s(3216),n=s(3593),l=s(7907),i=s(1512),o=s(4703),d=s(579);const c=e=>{let{entity:r,entityType:s,onSubmit:a,onCancel:n,isLoading:c=!1}=e;const[m,u]=(0,t.useState)({}),[x,h]=(0,t.useState)({}),{clearError:p}=(0,i.A)({enableNotifications:!1,enableReporting:!1});(0,t.useEffect)((()=>{r&&u({...r})}),[r]);const g=e=>{const{name:r,value:s,type:t}=e.target;if("checkbox"===t){const s=e.target.checked;u((e=>({...e,[r]:s})))}else u((e=>({...e,[r]:s})));x[r]&&h((e=>({...e,[r]:""})))};return(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};p();try{var r,t;if(null===(r=m.name)||void 0===r||!r.trim()){const r=(0,o.co)("name","Name is required","REQUIRED");e.name=r.message}if(null!==(t=m.email)&&void 0!==t&&t.trim()){if(!/\S+@\S+\.\S+/.test(m.email)){const r=(0,o.co)("email","Email is invalid","INVALID_FORMAT");e.email=r.message}}else{const r=(0,o.co)("email","Email is required","REQUIRED");e.email=r.message}if("user"===s){if(m.password&&m.password.length<8){const r=(0,o.co)("password","Password must be at least 8 characters","MIN_LENGTH");e.password=r.message}}else if("supplier"===s){var a,n;if(null===(a=m.contactPerson)||void 0===a||!a.trim()){const r=(0,o.co)("contactPerson","Contact person is required","REQUIRED");e.contactPerson=r.message}if(null===(n=m.phone)||void 0===n||!n.trim()){const r=(0,o.co)("phone","Phone number is required","REQUIRED");e.phone=r.message}}return h(e),0===Object.keys(e).length}catch(l){return console.error("Form validation error:",l),!1}})()&&a(m)},className:"space-y-6",children:["user"===s?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Full Name ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",id:"name",name:"name",value:m.name||"",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(x.name?"border-red-300":"")}),x.name&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.name})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email Address ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"email",id:"email",name:"email",value:m.email||"",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(x.email?"border-red-300":"")}),x.email&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:["Status ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsxs)("select",{id:"status",name:"status",value:m.status||"active",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",children:[(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"banned",children:"Banned"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:["Password ",!r&&(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"password",id:"password",name:"password",value:m.password||"",onChange:g,placeholder:r?"Leave blank to keep current password":"",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(x.password?"border-red-300":"")}),x.password&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.password})]})]})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Company Name ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",id:"name",name:"name",value:m.name||"",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(x.name?"border-red-300":"")}),x.name&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.name})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"contactPerson",className:"block text-sm font-medium text-gray-700",children:["Contact Person ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",id:"contactPerson",name:"contactPerson",value:m.contactPerson||"",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(x.contactPerson?"border-red-300":"")}),x.contactPerson&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.contactPerson})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email Address ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"email",id:"email",name:"email",value:m.email||"",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(x.email?"border-red-300":"")}),x.email&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:["Phone Number ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"tel",id:"phone",name:"phone",value:m.phone||"",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm "+(x.phone?"border-red-300":"")}),x.phone&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.phone})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:["Status ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsxs)("select",{id:"status",name:"status",value:m.status||"active",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",children:[(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"pending",children:"Pending"}),(0,d.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,d.jsx)("input",{type:"text",id:"address",name:"address",value:m.address||"",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm"})]})]})}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,d.jsx)(l.A,{type:"button",variant:"outline",onClick:n,disabled:c,children:"Cancel"}),(0,d.jsx)(l.A,{type:"submit",loading:c,children:"Save Changes"})]})]})};var m=s(2806);function u(e,r){let{title:s,titleId:a,...n}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},n),s?t.createElement("title",{id:a},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const x=t.forwardRef(u);var h=s(724),p=s(9705);const g=()=>{const{id:e}=(0,a.g)(),r=(0,a.Zp)(),{showNotification:s}=(0,p.A)(),[l,i]=(0,t.useState)(null),[o,u]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{e&&(async()=>{u(!0);try{const t=[{id:"1",name:"Tech Supplies Inc",contactPerson:"Mike Johnson",email:"mike@techsupplies.com",phone:"+1 234-567-8900",status:"active",verificationStatus:"verified",joinDate:"2024-01-10",address:"123 Tech Street, San Francisco, CA 94105, US",categories:["Electronics","Software"],logo:"https://via.placeholder.com/150"},{id:"2",name:"Office Solutions",contactPerson:"Sarah Williams",email:"sarah@officesolutions.com",phone:"+1 234-567-8901",status:"active",verificationStatus:"pending",joinDate:"-",address:"456 Office Avenue, Chicago, IL 60601, US",categories:["Office Supplies","Furniture"],logo:""}].find((r=>r.id===e));t?i(t):(s({type:"error",title:"Error",message:"Supplier not found"}),r(h.b.SUPPLIERS))}catch(t){console.error("Error fetching supplier:",t),s({type:"error",title:"Error",message:"Failed to fetch supplier details"})}finally{u(!1)}})()}),[e,r,s]);const y=()=>{r(h.b.SUPPLIERS)};return o?(0,d.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(m.A,{title:"Edit Supplier",description:`Edit details for ${(null===l||void 0===l?void 0:l.name)||"supplier"}`,actions:(0,d.jsxs)("button",{onClick:y,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[(0,d.jsx)(x,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500"}),"Back to Suppliers"]})}),(0,d.jsx)(n.A,{children:(0,d.jsx)(c,{entity:l,entityType:"supplier",onSubmit:async e=>{f(!0);try{await new Promise((e=>setTimeout(e,1e3))),i(e),s({type:"success",title:"Success",message:"Supplier updated successfully"}),r(h.b.SUPPLIERS)}catch(t){console.error("Error updating supplier:",t),s({type:"error",title:"Error",message:"Failed to update supplier"})}finally{f(!1)}},onCancel:y,isLoading:g})})]})}},6365:(e,r,s)=>{s.d(r,{A:()=>n});var t=s(5043);function a(e,r){let{title:s,titleId:a,...n}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},n),s?t.createElement("title",{id:a},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const n=t.forwardRef(a)},7907:(e,r,s)=>{s.d(r,{A:()=>l});var t=s(5043),a=s(579);const n=e=>{let{children:r,variant:s="primary",size:t="md",className:n="",onClick:l,disabled:i=!1,type:o="button",icon:d,iconPosition:c="left",fullWidth:m=!1,loading:u=!1,rounded:x=!1,href:h,target:p,rel:g,title:f,ariaLabel:y,testId:b}=e;const j=`\n    inline-flex items-center justify-center font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2\n    ${{primary:"bg-primary text-white hover:bg-primary/90 focus:ring-primary",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-300",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-primary",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",text:"bg-transparent text-primary hover:bg-gray-100 focus:ring-primary",link:"bg-transparent text-primary hover:underline focus:ring-transparent p-0"}[s]}\n    ${{xs:"text-xs px-2 py-1",sm:"text-xs px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-5 py-2.5",xl:"text-lg px-6 py-3"}[t]}\n    ${i?"opacity-60 cursor-not-allowed":"cursor-pointer"}\n    ${m?"w-full":""}\n    ${x?"rounded-full":"rounded-lg"}\n    ${n}\n  `,v=(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d&&"left"===c&&!u&&(0,a.jsx)("span",{className:"mr-2",children:d}),r,d&&"right"===c&&(0,a.jsx)("span",{className:"ml-2",children:d})]});return h?(0,a.jsx)("a",{href:h,className:j,target:p,rel:g||("_blank"===p?"noopener noreferrer":void 0),onClick:l,title:f,"aria-label":y,"data-testid":b,children:v}):(0,a.jsx)("button",{type:o,className:j,onClick:l,disabled:i||u,title:f,"aria-label":y,"data-testid":b,children:v})},l=(0,t.memo)(n)}}]);
//# sourceMappingURL=259.0889d637.chunk.js.map